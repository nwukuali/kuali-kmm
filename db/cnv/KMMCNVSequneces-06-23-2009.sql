---------------------------------------------------
-- Export file for user KMMCNV                   --
-- Created by alavinas on 6/23/2009, 11:11:23 AM --
---------------------------------------------------

spool KMMCNVSequneces-06-23-2009.log

prompt
prompt Creating sequence KREN_CHNL_S
prompt =============================
prompt
create sequence KREN_CHNL_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1000
increment by 1
nocache
order;

prompt
prompt Creating sequence KREN_CHNL_SUBSCRP_S
prompt =====================================
prompt
create sequence KREN_CHNL_SUBSCRP_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1020
increment by 1
nocache
order;

prompt
prompt Creating sequence KREN_CNTNT_TYP_S
prompt ==================================
prompt
create sequence KREN_CNTNT_TYP_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1000
increment by 1
nocache
order;

prompt
prompt Creating sequence KREN_MSG_DELIV_S
prompt ==================================
prompt
create sequence KREN_MSG_DELIV_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1000
increment by 1
nocache
order;

prompt
prompt Creating sequence KREN_MSG_S
prompt ============================
prompt
create sequence KREN_MSG_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1000
increment by 1
nocache
order;

prompt
prompt Creating sequence KREN_NTFCTN_MSG_DELIV_S
prompt =========================================
prompt
create sequence KREN_NTFCTN_MSG_DELIV_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1000
increment by 1
nocache
order;

prompt
prompt Creating sequence KREN_NTFCTN_S
prompt ===============================
prompt
create sequence KREN_NTFCTN_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1000
increment by 1
nocache
order;

prompt
prompt Creating sequence KREN_PRIO_S
prompt =============================
prompt
create sequence KREN_PRIO_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1000
increment by 1
nocache
order;

prompt
prompt Creating sequence KREN_PRODCR_S
prompt ===============================
prompt
create sequence KREN_PRODCR_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1000
increment by 1
nocache
order;

prompt
prompt Creating sequence KREN_RECIP_DELIV_S
prompt ====================================
prompt
create sequence KREN_RECIP_DELIV_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1000
increment by 1
nocache
order;

prompt
prompt Creating sequence KREN_RECIP_LIST_S
prompt ===================================
prompt
create sequence KREN_RECIP_LIST_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1000
increment by 1
nocache
order;

prompt
prompt Creating sequence KREN_RECIP_PREF_S
prompt ===================================
prompt
create sequence KREN_RECIP_PREF_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1000
increment by 1
nocache
order;

prompt
prompt Creating sequence KREN_RECIP_S
prompt ==============================
prompt
create sequence KREN_RECIP_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1000
increment by 1
nocache
order;

prompt
prompt Creating sequence KREN_RVWER_S
prompt ==============================
prompt
create sequence KREN_RVWER_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1000
increment by 1
nocache
order;

prompt
prompt Creating sequence KREN_SNDR_S
prompt =============================
prompt
create sequence KREN_SNDR_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1000
increment by 1
nocache
order;

prompt
prompt Creating sequence KREW_ACTN_ITM_S
prompt =================================
prompt
create sequence KREW_ACTN_ITM_S
minvalue 1
maxvalue 999999999999999999999999999
start with 10227
increment by 1
nocache
order;

prompt
prompt Creating sequence KREW_ACTN_LIST_OPTN_S
prompt =======================================
prompt
create sequence KREW_ACTN_LIST_OPTN_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1271
increment by 1
nocache
order;

prompt
prompt Creating sequence KREW_ACTN_RQST_S
prompt ==================================
prompt
create sequence KREW_ACTN_RQST_S
minvalue 1
maxvalue 999999999999999999999999999
start with 2370
increment by 1
nocache
order;

prompt
prompt Creating sequence KREW_ACTN_TKN_S
prompt =================================
prompt
create sequence KREW_ACTN_TKN_S
minvalue 1
maxvalue 999999999999999999999999999
start with 2409
increment by 1
nocache
order;

prompt
prompt Creating sequence KREW_DOC_HDR_S
prompt ================================
prompt
create sequence KREW_DOC_HDR_S
minvalue 1
maxvalue 999999999999999999999999999
start with 481
increment by 1
cache 20;

prompt
prompt Creating sequence KREW_DOC_NTE_S
prompt ================================
prompt
create sequence KREW_DOC_NTE_S
minvalue 1
maxvalue 999999999999999999999999999
start with 2020
increment by 1
nocache
order;

prompt
prompt Creating sequence KREW_DOC_TYP_ATTR_S
prompt =====================================
prompt
create sequence KREW_DOC_TYP_ATTR_S
minvalue 1
maxvalue 999999999999999999999999999
start with 2009
increment by 1
nocache
order;

prompt
prompt Creating sequence KREW_EDL_FLD_DMP_S
prompt ====================================
prompt
create sequence KREW_EDL_FLD_DMP_S
minvalue 1
maxvalue 999999999999999999999999999
start with 5000
increment by 1
nocache
order;

prompt
prompt Creating sequence KREW_EDL_S
prompt ============================
prompt
create sequence KREW_EDL_S
minvalue 1
maxvalue 999999999999999999999999999
start with 2020
increment by 1
nocache
order;

prompt
prompt Creating sequence KREW_HLP_S
prompt ============================
prompt
create sequence KREW_HLP_S
minvalue 1
maxvalue 999999999999999999999999999
start with 100
increment by 1
nocache
order;

prompt
prompt Creating sequence KREW_OUT_BOX_ITM_S
prompt ====================================
prompt
create sequence KREW_OUT_BOX_ITM_S
minvalue 1
maxvalue 999999999999999999999999999
start with 10043
increment by 1
nocache
order;

prompt
prompt Creating sequence KREW_RSP_S
prompt ============================
prompt
create sequence KREW_RSP_S
minvalue 1
maxvalue 999999999999999999999999999
start with 2063
increment by 1
nocache
order;

prompt
prompt Creating sequence KREW_RTE_NODE_CFG_PARM_S
prompt ==========================================
prompt
create sequence KREW_RTE_NODE_CFG_PARM_S
minvalue 1
maxvalue 999999999999999999999999999
start with 2601
increment by 1
nocache
order;

prompt
prompt Creating sequence KREW_RTE_NODE_S
prompt =================================
prompt
create sequence KREW_RTE_NODE_S
minvalue 1
maxvalue 999999999999999999999999999
start with 601
increment by 1
cache 20;

prompt
prompt Creating sequence KREW_RTE_TMPL_S
prompt =================================
prompt
create sequence KREW_RTE_TMPL_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1642
increment by 1
nocache
order;

prompt
prompt Creating sequence KREW_RULE_EXPR_S
prompt ==================================
prompt
create sequence KREW_RULE_EXPR_S
minvalue 1
maxvalue 999999999999999999999999999
start with 2000
increment by 1
nocache
order;

prompt
prompt Creating sequence KREW_RULE_TMPL_OPTN_S
prompt =======================================
prompt
create sequence KREW_RULE_TMPL_OPTN_S
minvalue 1
maxvalue 999999999999999999999999999
start with 2020
increment by 1
nocache
order;

prompt
prompt Creating sequence KREW_SRCH_ATTR_S
prompt ==================================
prompt
create sequence KREW_SRCH_ATTR_S
minvalue 1
maxvalue 999999999999999999999999999
start with 2060
increment by 1
nocache
order;

prompt
prompt Creating sequence KREW_USR_S
prompt ============================
prompt
create sequence KREW_USR_S
minvalue 1
maxvalue 999999999999999999999999999
start with 100000000000
increment by 1
nocache
order;

prompt
prompt Creating sequence KRIM_ATTR_DATA_ID_S
prompt =====================================
prompt
create sequence KRIM_ATTR_DATA_ID_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1000
increment by 1
nocache
order;

prompt
prompt Creating sequence KRIM_ATTR_DEFN_ID_S
prompt =====================================
prompt
create sequence KRIM_ATTR_DEFN_ID_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1000
increment by 1
nocache
order;

prompt
prompt Creating sequence KRIM_DLGN_ID_S
prompt ================================
prompt
create sequence KRIM_DLGN_ID_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1000
increment by 1
nocache
order;

prompt
prompt Creating sequence KRIM_DLGN_MBR_ID_S
prompt ====================================
prompt
create sequence KRIM_DLGN_MBR_ID_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1000
increment by 1
nocache
order;

prompt
prompt Creating sequence KRIM_ENTITY_ADDR_ID_S
prompt =======================================
prompt
create sequence KRIM_ENTITY_ADDR_ID_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1000
increment by 1
nocache
order;

prompt
prompt Creating sequence KRIM_ENTITY_AFLTN_ID_S
prompt ========================================
prompt
create sequence KRIM_ENTITY_AFLTN_ID_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1000
increment by 1
nocache
order;

prompt
prompt Creating sequence KRIM_ENTITY_CTZNSHP_ID_S
prompt ==========================================
prompt
create sequence KRIM_ENTITY_CTZNSHP_ID_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1000
increment by 1
nocache
order;

prompt
prompt Creating sequence KRIM_ENTITY_EMAIL_ID_S
prompt ========================================
prompt
create sequence KRIM_ENTITY_EMAIL_ID_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1300
increment by 1
nocache
order;

prompt
prompt Creating sequence KRIM_ENTITY_EMP_ID_S
prompt ======================================
prompt
create sequence KRIM_ENTITY_EMP_ID_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1000
increment by 1
nocache
order;

prompt
prompt Creating sequence KRIM_ENTITY_EXT_ID_ID_S
prompt =========================================
prompt
create sequence KRIM_ENTITY_EXT_ID_ID_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1000
increment by 1
nocache
order;

prompt
prompt Creating sequence KRIM_ENTITY_ID_S
prompt ==================================
prompt
create sequence KRIM_ENTITY_ID_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1200
increment by 1
nocache
order;

prompt
prompt Creating sequence KRIM_ENTITY_NM_ID_S
prompt =====================================
prompt
create sequence KRIM_ENTITY_NM_ID_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1300
increment by 1
nocache
order;

prompt
prompt Creating sequence KRIM_ENTITY_PHONE_ID_S
prompt ========================================
prompt
create sequence KRIM_ENTITY_PHONE_ID_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1000
increment by 1
nocache
order;

prompt
prompt Creating sequence KRIM_GRP_ATTR_DATA_ID_S
prompt =========================================
prompt
create sequence KRIM_GRP_ATTR_DATA_ID_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1000
increment by 1
nocache
order;

prompt
prompt Creating sequence KRIM_GRP_ID_S
prompt ===============================
prompt
create sequence KRIM_GRP_ID_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1000000
increment by 1
nocache
order;

prompt
prompt Creating sequence KRIM_GRP_MBR_ID_S
prompt ===================================
prompt
create sequence KRIM_GRP_MBR_ID_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1200
increment by 1
nocache
order;

prompt
prompt Creating sequence KRIM_PERM_DATA_ATTR_ID_S
prompt ==========================================
prompt
create sequence KRIM_PERM_DATA_ATTR_ID_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1015
increment by 1
nocache
order;

prompt
prompt Creating sequence KRIM_PERM_ID_S
prompt ================================
prompt
create sequence KRIM_PERM_ID_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1019
increment by 1
nocache
order;

prompt
prompt Creating sequence KRIM_PERM_RQRD_ATTR_ID_S
prompt ==========================================
prompt
create sequence KRIM_PERM_RQRD_ATTR_ID_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1007
increment by 1
nocache
order;

prompt
prompt Creating sequence KRIM_PERM_TMPL_ID_S
prompt =====================================
prompt
create sequence KRIM_PERM_TMPL_ID_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1000
increment by 1
nocache
order;

prompt
prompt Creating sequence KRIM_PRNCPL_ID_S
prompt ==================================
prompt
create sequence KRIM_PRNCPL_ID_S
minvalue 1
maxvalue 999999999999999999999999999
start with 10000000000
increment by 1
nocache
order;

prompt
prompt Creating sequence KRIM_ROLE_ID_S
prompt ================================
prompt
create sequence KRIM_ROLE_ID_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1100
increment by 1
nocache
order;

prompt
prompt Creating sequence KRIM_ROLE_MBR_ID_S
prompt ====================================
prompt
create sequence KRIM_ROLE_MBR_ID_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1102
increment by 1
nocache
order;

prompt
prompt Creating sequence KRIM_ROLE_REL_ID_S
prompt ====================================
prompt
create sequence KRIM_ROLE_REL_ID_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1000
increment by 1
nocache
order;

prompt
prompt Creating sequence KRIM_ROLE_RSP_ACTN_ID_S
prompt =========================================
prompt
create sequence KRIM_ROLE_RSP_ACTN_ID_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1000
increment by 1
nocache
order;

prompt
prompt Creating sequence KRIM_ROLE_RSP_ID_S
prompt ====================================
prompt
create sequence KRIM_ROLE_RSP_ID_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1000
increment by 1
nocache
order;

prompt
prompt Creating sequence KRIM_RSP_ID_S
prompt ===============================
prompt
create sequence KRIM_RSP_ID_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1000
increment by 1
nocache
order;

prompt
prompt Creating sequence KRIM_RSP_RQRD_ATTR_ID_S
prompt =========================================
prompt
create sequence KRIM_RSP_RQRD_ATTR_ID_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1000
increment by 1
nocache
order;

prompt
prompt Creating sequence KRIM_RSP_TMPL_ID_S
prompt ====================================
prompt
create sequence KRIM_RSP_TMPL_ID_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1000
increment by 1
nocache
order;

prompt
prompt Creating sequence KRIM_TYP_ATTR_ID_S
prompt ====================================
prompt
create sequence KRIM_TYP_ATTR_ID_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1000
increment by 1
nocache
order;

prompt
prompt Creating sequence KRIM_TYP_ID_S
prompt ===============================
prompt
create sequence KRIM_TYP_ID_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1000
increment by 1
nocache
order;

prompt
prompt Creating sequence KRNS_DOC_TYP_ATTR_S
prompt =====================================
prompt
create sequence KRNS_DOC_TYP_ATTR_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1000
increment by 1
nocache
order;

prompt
prompt Creating sequence KRNS_LOCK_S
prompt =============================
prompt
create sequence KRNS_LOCK_S
minvalue 1
maxvalue 999999999999999999999999999
start with 2000
increment by 1
nocache
order;

prompt
prompt Creating sequence KRNS_LOOKUP_RSLT_S
prompt ====================================
prompt
create sequence KRNS_LOOKUP_RSLT_S
minvalue 1
maxvalue 999999999999999999999999999
start with 2002
increment by 1
nocache
order;

prompt
prompt Creating sequence KRNS_MAINT_LOCK_S
prompt ===================================
prompt
create sequence KRNS_MAINT_LOCK_S
minvalue 1
maxvalue 999999999999999999999999999
start with 2080
increment by 1
nocache
order;

prompt
prompt Creating sequence KRNS_NTE_S
prompt ============================
prompt
create sequence KRNS_NTE_S
minvalue 1
maxvalue 999999999999999999999999999
start with 2021
increment by 1
nocache
order;

prompt
prompt Creating sequence KRSB_BAM_PARM_S
prompt =================================
prompt
create sequence KRSB_BAM_PARM_S
minvalue 1
maxvalue 999999999999999999999999999
start with 2000
increment by 1
nocache
order;

prompt
prompt Creating sequence KRSB_BAM_S
prompt ============================
prompt
create sequence KRSB_BAM_S
minvalue 1
maxvalue 999999999999999999999999999
start with 2000
increment by 1
nocache
order;

prompt
prompt Creating sequence KRSB_MSG_QUE_S
prompt ================================
prompt
create sequence KRSB_MSG_QUE_S
minvalue 1
maxvalue 999999999999999999999999999
start with 32845
increment by 1
nocache
order;

prompt
prompt Creating sequence KRSB_SVC_DEF_S
prompt ================================
prompt
create sequence KRSB_SVC_DEF_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1161
increment by 1
cache 20;

prompt
prompt Creating sequence MM_SYS_GUID_S
prompt ===============================
prompt
create sequence MM_SYS_GUID_S
minvalue 1
maxvalue 999999999999999999999999999
start with 474
increment by 1
nocache
order;

prompt
prompt Creating sequence TRV_FO_ID_S
prompt =============================
prompt
create sequence TRV_FO_ID_S
minvalue 1
maxvalue 999999999999999999999999999
start with 1000
increment by 1
nocache
order;

prompt
prompt Creating view KRIM_GRP_MBR_V
prompt ============================
prompt
CREATE OR REPLACE VIEW KRIM_GRP_MBR_V AS
SELECT g.NMSPC_CD
     , g.grp_nm
     , g.GRP_ID
     , p.PRNCPL_NM
     , p.PRNCPL_ID
     , mg.GRP_NM AS mbr_grp_nm
     , mg.GRP_ID AS mbr_grp_id
    FROM KRIM_GRP_MBR_T gm
    LEFT JOIN krim_grp_t g
      ON g.GRP_ID = gm.GRP_ID
    LEFT OUTER JOIN krim_grp_t mg
      ON mg.GRP_ID = gm.MBR_ID
      AND gm.MBR_TYP_CD = 'G'
    LEFT OUTER JOIN krim_prncpl_t p
      ON p.PRNCPL_ID = gm.MBR_ID
      AND gm.MBR_TYP_CD = 'P'
    LEFT OUTER JOIN krim_entity_nm_t en
      ON en.ENTITY_ID = p.ENTITY_ID
      AND en.DFLT_IND = 'Y'
      AND en.ACTV_IND = 'Y'
ORDER BY nmspc_cd, grp_nm, prncpl_nm;

prompt
prompt Creating view KRIM_GRP_V
prompt ========================
prompt
CREATE OR REPLACE VIEW KRIM_GRP_V AS
SELECT g.NMSPC_CD
, g.grp_nm
, g.GRP_ID
, t.NM AS grp_typ_nm
, a.NM AS attr_nm
, d.ATTR_VAL AS attr_val
FROM krim_grp_t g
LEFT OUTER JOIN KRIM_GRP_ATTR_DATA_T d
ON d.grp_id = g.GRP_ID
LEFT OUTER JOIN KRIM_ATTR_DEFN_T a
ON a.KIM_ATTR_DEFN_ID = d.KIM_ATTR_DEFN_ID
LEFT OUTER JOIN KRIM_TYP_T t
ON g.KIM_TYP_ID = t.KIM_TYP_ID;

prompt
prompt Creating view KRIM_PERM_ATTR_V
prompt ==============================
prompt
CREATE OR REPLACE VIEW KRIM_PERM_ATTR_V AS
SELECT
t.nmspc_cd AS tmpl_nmspc_cd
, t.NM AS tmpl_nm
, t.PERM_TMPL_ID
, p.nmspc_cd AS perm_nmspc_cd
, p.NM AS perm_nm
, p.PERM_ID
, a.NM AS attr_nm
, ad.ATTR_VAL AS attr_val
FROM KRIM_PERM_T p
LEFT JOIN KRIM_PERM_TMPL_T t
ON p.PERM_TMPL_ID = t.PERM_TMPL_ID
LEFT OUTER JOIN KRIM_PERM_ATTR_DATA_T ad
ON p.PERM_ID = ad.perm_id
LEFT OUTER JOIN KRIM_ATTR_DEFN_T a
ON ad.KIM_ATTR_DEFN_ID = a.KIM_ATTR_DEFN_ID
ORDER BY tmpl_nmspc_cd, tmpl_nm, perm_nmspc_cd, perm_id, attr_nm;

prompt
prompt Creating view KRIM_PERM_V
prompt =========================
prompt
CREATE OR REPLACE VIEW KRIM_PERM_V AS
SELECT
      t.nmspc_cd AS tmpl_nmspc_cd
        , t.NM AS tmpl_nm
    , t.PERM_TMPL_ID
    , p.nmspc_cd AS perm_nmspc_cd
    , p.NM      AS perm_nm
    , p.PERM_ID
        , typ.NM   AS perm_typ_nm
        , typ.SRVC_NM
FROM KRIM_PERM_T p
    INNER JOIN KRIM_PERM_TMPL_T t
                ON p.PERM_TMPL_ID = t.PERM_TMPL_ID
    LEFT OUTER JOIN KRIM_TYP_T typ
        ON t.KIM_TYP_ID = typ.KIM_TYP_ID;

prompt
prompt Creating view KRIM_PRNCPL_V
prompt ===========================
prompt
CREATE OR REPLACE VIEW KRIM_PRNCPL_V AS
SELECT
p.PRNCPL_ID
,p.PRNCPL_NM
,en.FIRST_NM
,en.LAST_NM
,ea.AFLTN_TYP_CD
,ea.CAMPUS_CD
,eei.EMP_STAT_CD
,eei.EMP_TYP_CD
FROM krim_prncpl_t p
    LEFT OUTER JOIN krim_entity_emp_info_t eei
        ON eei.ENTITY_ID = p.ENTITY_ID
    LEFT OUTER JOIN krim_entity_afltn_t ea
        ON ea.ENTITY_ID = p.ENTITY_ID
    LEFT OUTER JOIN krim_entity_nm_t en
        ON p.ENTITY_ID = en.ENTITY_ID
       AND 'Y' = en.DFLT_IND;

prompt
prompt Creating view KRIM_ROLE_GRP_V
prompt =============================
prompt
CREATE OR REPLACE VIEW KRIM_ROLE_GRP_V AS
SELECT r.NMSPC_CD
, r.ROLE_NM
, r.role_id
, g.NMSPC_CD AS grp_nmspc_cd
, g.GRP_NM
, rm.ROLE_MBR_ID
, a.NM AS attr_nm
, d.ATTR_VAL AS attr_val
FROM KRIM_ROLE_MBR_T rm
LEFT JOIN KRIM_ROLE_T r
ON r.ROLE_ID = rm.ROLE_ID
LEFT JOIN KRIM_GRP_T g
ON g.GRP_ID = rm.MBR_ID
LEFT OUTER JOIN KRIM_ROLE_MBR_ATTR_DATA_T d
ON d.role_mbr_id = rm.ROLE_MBR_ID
LEFT OUTER JOIN KRIM_ATTR_DEFN_T a
ON a.KIM_ATTR_DEFN_ID = d.KIM_ATTR_DEFN_ID
WHERE rm.MBR_TYP_CD = 'G'
ORDER BY nmspc_cd, role_nm, grp_nmspc_cd, grp_nm, role_mbr_id, attr_nm;

prompt
prompt Creating view KRIM_ROLE_PERM_V
prompt ==============================
prompt
CREATE OR REPLACE VIEW KRIM_ROLE_PERM_V AS
SELECT r.NMSPC_CD
, r.ROLE_NM
, r.role_id
, pt.NMSPC_CD AS tmpl_nmspc_cd
, pt.NM AS tmpl_nm
, pt.PERM_TMPL_ID
, p.NMSPC_CD AS perm_nmpsc_cd
, p.NM AS perm_nm
, p.PERM_ID
, a.NM AS attr_nm
, ad.ATTR_VAL AS attr_val
FROM KRIM_PERM_T p
LEFT JOIN KRIM_PERM_TMPL_T pt
ON p.PERM_TMPL_ID = pt.PERM_TMPL_ID
LEFT OUTER JOIN KRIM_PERM_ATTR_DATA_T ad
ON p.PERM_ID = ad.perm_id
LEFT OUTER JOIN KRIM_ATTR_DEFN_T a
ON ad.KIM_ATTR_DEFN_ID = a.KIM_ATTR_DEFN_ID
LEFT OUTER JOIN KRIM_ROLE_PERM_T rp
ON rp.PERM_ID = p.PERM_ID
LEFT OUTER JOIN KRIM_ROLE_T r
ON rp.ROLE_ID = r.ROLE_ID
ORDER BY NMSPC_CD, role_nm, tmpl_nmspc_cd, tmpl_nm, perm_id, attr_nm;

prompt
prompt Creating view KRIM_ROLE_PRNCPL_V
prompt ================================
prompt
CREATE OR REPLACE VIEW KRIM_ROLE_PRNCPL_V AS
SELECT r.NMSPC_CD
, r.ROLE_NM
, r.ROLE_ID
, p.PRNCPL_NM
, p.PRNCPL_ID
, en.FIRST_NM
, en.LAST_NM
, rm.ROLE_MBR_ID
, ad.NM AS attr_nm
, rmad.ATTR_VAL AS attr_val
FROM KRIM_ROLE_T r
LEFT OUTER JOIN KRIM_ROLE_MBR_T rm
ON r.ROLE_ID = rm.ROLE_ID
LEFT OUTER JOIN KRIM_ROLE_MBR_ATTR_DATA_T rmad
ON rm.ROLE_MBR_ID = rmad.role_mbr_id
LEFT OUTER JOIN KRIM_ATTR_DEFN_T ad
ON rmad.KIM_ATTR_DEFN_ID = ad.KIM_ATTR_DEFN_ID
LEFT OUTER JOIN KRIM_PRNCPL_T p
ON rm.MBR_ID = p.PRNCPL_ID
AND rm.mbr_typ_cd = 'P'
LEFT OUTER JOIN KRIM_ENTITY_NM_T en
ON p.ENTITY_ID = en.ENTITY_ID
WHERE (en.DFLT_IND = 'Y')
ORDER BY nmspc_cd, role_nm, prncpl_nm, rm.ROLE_MBR_ID, attr_nm;

prompt
prompt Creating view KRIM_ROLE_ROLE_V
prompt ==============================
prompt
CREATE OR REPLACE VIEW KRIM_ROLE_ROLE_V AS
SELECT r.NMSPC_CD
, r.ROLE_NM
, r.role_id
, mr.NMSPC_CD AS mbr_role_nmspc_cd
, mr.role_NM AS mbr_role_nm
, mr.role_id AS mbr_role_id
, rm.role_mbr_id
, a.NM AS attr_nm
, d.ATTR_VAL AS attr_val
FROM KRIM_ROLE_MBR_T rm
LEFT JOIN KRIM_ROLE_T r
ON r.ROLE_ID = rm.ROLE_ID
LEFT JOIN KRIM_role_T mr
ON mr.role_ID = rm.MBR_ID
LEFT OUTER JOIN KRIM_ROLE_MBR_ATTR_DATA_T d
ON d.role_mbr_id = rm.ROLE_MBR_ID
LEFT OUTER JOIN KRIM_ATTR_DEFN_T a
ON a.KIM_ATTR_DEFN_ID = d.KIM_ATTR_DEFN_ID
WHERE rm.MBR_TYP_CD = 'R'
ORDER BY nmspc_cd, role_nm, mbr_role_nmspc_cd, mbr_role_nm, role_mbr_id, attr_nm;

prompt
prompt Creating view KRIM_ROLE_V
prompt =========================
prompt
CREATE OR REPLACE VIEW KRIM_ROLE_V AS
SELECT r.NMSPC_CD
, r.ROLE_NM
, r.ROLE_ID
, t.nm         AS role_typ_nm
, t.SRVC_NM
, t.KIM_TYP_ID
FROM KRIM_ROLE_T r
, KRIM_TYP_T t
WHERE t.KIM_TYP_ID = r.KIM_TYP_ID
AND r.ACTV_IND = 'Y'
ORDER BY nmspc_cd
, role_nm;

prompt
prompt Creating view KRIM_RSP_ATTR_V
prompt =============================
prompt
CREATE OR REPLACE VIEW KRIM_RSP_ATTR_V AS
SELECT
krim_typ_t.NM AS responsibility_type_name
, KRIM_rsp_TMPL_T.NM AS rsp_TEMPLATE_NAME
, KRIM_rsp_T.nmspc_cd AS rsp_namespace_code
, KRIM_rsp_T.NM AS rsp_NAME
, krim_rsp_t.RSP_ID AS rsp_id
, KRIM_ATTR_DEFN_T.NM AS attribute_name
, KRIM_rsp_ATTR_DATA_T.ATTR_VAL AS attribute_value
FROM KRIM_rsp_T KRIM_rsp_T
INNER JOIN KRIM_rsp_ATTR_DATA_T KRIM_rsp_ATTR_DATA_T
ON KRIM_rsp_T.rsp_ID = KRIM_rsp_ATTR_DATA_T.rsp_id
INNER JOIN KRIM_ATTR_DEFN_T KRIM_ATTR_DEFN_T
ON KRIM_rsp_ATTR_DATA_T.KIM_ATTR_DEFN_ID = KRIM_ATTR_DEFN_T.KIM_ATTR_DEFN_ID
INNER JOIN KRIM_rsp_TMPL_T KRIM_rsp_TMPL_T
ON KRIM_rsp_T.rsp_TMPL_ID = KRIM_rsp_TMPL_T.rsp_TMPL_ID
INNER JOIN KRIM_TYP_T KRIM_TYP_T
ON KRIM_rsp_TMPL_T.KIM_TYP_ID = KRIM_TYP_T.KIM_TYP_ID
ORDER BY rsp_TEMPLATE_NAME, rsp_NAME, attribute_name;

prompt
prompt Creating view KRIM_RSP_ROLE_ACTN_V
prompt ==================================
prompt
create or replace view krim_rsp_role_actn_v as
select
rsp.nmspc_cd as rsp_nmspc_cd
, rsp.rsp_id
, r.NMSPC_CD
, r.ROLE_NM
, rr.ROLE_ID
, rm.MBR_ID
, rm.MBR_TYP_CD
, rm.ROLE_MBR_ID
, actn.ACTN_TYP_CD
, actn.ACTN_PLCY_CD
, actn.FRC_ACTN
, actn.PRIORITY_NBR
from krim_rsp_t rsp
left join krim_rsp_tmpl_t rspt
on rsp.rsp_tmpl_id = rspt.rsp_tmpl_id
left outer join krim_role_rsp_t rr
on rr.rsp_id = rsp.rsp_id
left outer join KRIM_ROLE_MBR_T rm
ON rm.ROLE_ID = rr.ROLE_ID
left outer join KRIM_ROLE_RSP_ACTN_T actn
ON actn.ROLE_RSP_ID = rr.ROLE_RSP_ID
AND (actn.ROLE_MBR_ID = rm.ROLE_MBR_ID OR actn.ROLE_MBR_ID = '*')
left outer join krim_role_t r
on rr.role_id = r.role_id
order by rsp_nmspc_cd
, rsp_id
, role_id
, role_mbr_id;

prompt
prompt Creating view KRIM_RSP_ROLE_V
prompt =============================
prompt
create or replace view krim_rsp_role_v as
select
rspt.nmspc_cd as rsp_tmpl_nmspc_cd
, rspt.nm as rsp_tmpl_nm
, rsp.nmspc_cd as rsp_nmspc_cd
, rsp.nm as rsp_nm
, rsp.rsp_id
, a.nm as attr_nm
, d.attr_val
, r.NMSPC_CD
, r.ROLE_NM
, rr.ROLE_ID
from krim_rsp_t rsp
left join krim_rsp_tmpl_t rspt
on rsp.rsp_tmpl_id = rspt.rsp_tmpl_id
left outer join krim_rsp_attr_data_t d
on rsp.rsp_id = d.rsp_id
left outer join krim_attr_defn_t a
on d.kim_attr_defn_id = a.kim_attr_defn_id
left outer join krim_role_rsp_t rr
on rr.rsp_id = rsp.rsp_id
left outer join krim_role_t r
on rr.role_id = r.role_id
order by rsp_tmpl_nmspc_cd, rsp_tmpl_nm, rsp_nmspc_cd, rsp_nm, rsp_id, attr_nm, attr_val;


spool off
